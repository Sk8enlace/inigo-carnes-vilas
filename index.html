<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hello World — Guapo e Interactivo</title>
  <style>
    :root{
      --bg:#08121f; --card:#0f2230; --accent:#00ffd5; --muted:#9fb3c8;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; font-family:Inter,Segoe UI,system-ui,Arial; background: radial-gradient(circle at 10% 10%, rgba(0,255,213,0.06), transparent 10%), linear-gradient(180deg,#04111a 0%, #061722 40%, #071621 100%); color: #dff7f2}
    .wrap{min-height:100%; display:flex; align-items:center; justify-content:center; padding:40px}
    .card{
      width:980px; max-width:96vw; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04); padding:28px; border-radius:14px; backdrop-filter: blur(6px);
      box-shadow: 0 10px 40px rgba(2,6,10,0.6); position:relative; overflow:hidden;
    }
    header{display:flex; align-items:center; gap:18px; margin-bottom:14px}
    .logo{
      width:78px; height:78px; border-radius:12px; background:linear-gradient(135deg,var(--accent),#6f5cff);
      display:flex; align-items:center; justify-content:center; font-weight:700; color:#042; cursor:pointer;
      transform:translateZ(0); box-shadow:0 6px 18px rgba(0,0,0,0.5);
    }
    h1{margin:0; font-size:28px; letter-spacing:0.6px; line-height:1.05}
    p.lead{margin:6px 0 0; color:var(--muted); font-size:13px}
    .controls{display:flex; gap:10px; margin-top:16px; flex-wrap:wrap}
    button, .toggle{
      background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--accent); padding:8px 12px; border-radius:8px; cursor:pointer;
    }
    .row{display:flex; gap:16px; margin-top:18px}
    .left{flex:1}
    .right{width:320px}
    .box{background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01)); padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.02)}
    .typewriter{font-family: "Courier New", monospace; font-size:20px; color: #fff; margin:10px 0}
    .neon{font-weight:800; color:transparent; -webkit-text-stroke: 1px rgba(0,255,213,0.85); text-shadow:0 0 12px rgba(0,255,213,0.12), 0 0 26px rgba(111,92,255,0.12)}
    canvas#particles{position:absolute; inset:0; pointer-events:none; z-index:0}
    .interactive-area{position:relative; z-index:1; display:flex; gap:12px; align-items:flex-start}
    .draggable{width:150px; height:130px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:10px; display:flex; flex-direction:column; justify-content:center; align-items:center; cursor:grab; user-select:none}
    .draggable:active{cursor:grabbing}
    .target{width:64px; height:64px; border-radius:999px; background:conic-gradient(from 120deg, #ff4d6d, #ffd24d, #4dffb4, #6f5cff); display:flex; align-items:center; justify-content:center; color:#012; font-weight:700; cursor:pointer; box-shadow:0 8px 24px rgba(0,0,0,0.4)}
    .footer{display:flex; justify-content:space-between; align-items:center; margin-top:18px; color:var(--muted); font-size:13px}
    .secret{display:none; padding:12px; margin-top:12px; border-radius:10px; background:linear-gradient(90deg,#031018,#052033); border:1px dashed rgba(255,255,255,0.04)}
    .secret.show{display:block}
    .score{font-weight:700; color:#fff}
    .tooltip{font-size:12px; color:var(--muted)}
    .badge{background:rgba(255,255,255,0.03); padding:6px 8px; border-radius:8px; font-weight:600}
    /* small animations */
    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}
    .logo{animation:floaty 3s ease-in-out infinite}
    .greenPulse{animation:glow 2.2s ease-in-out infinite}
    @keyframes glow{0%{box-shadow:0 0 4px rgba(0,255,213,0.06)}50%{box-shadow:0 0 18px rgba(0,255,213,0.18)}100%{box-shadow:0 0 4px rgba(0,255,213,0.06)}}
    .confetti{position:absolute; inset:0; pointer-events:none; z-index:2}
    /* responsive */
    @media (max-width:820px){ .right{display:none} .card{padding:18px} }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>
  <div class="wrap">
    <div class="card" role="main" aria-label="Hello world interactivo">
      <header>
        <div id="logo" class="logo" title="Haz clic varias veces">HW</div>
        <div>
          <h1><span class="neon">Hello World</span> — bien de guapo</h1>
          <p class="lead">Interacciones, secretos y mini-juegos. Prueba teclas, clics y el Konami.</p>
          <div class="controls">
            <button id="toggleTheme">Modo secreto</button>
            <button id="playTone">Tocar tono</button>
            <button id="copyHello">Copiar saludo</button>
            <div class="badge" id="visits">Visitas: 0</div>
          </div>
        </div>
      </header>

      <div class="row interactive-area">
        <div class="left">
          <div class="box">
            <div class="typewriter" id="typed"></div>
            <div style="display:flex; gap:10px; margin-top:10px">
              <div class="draggable" id="drag" title="Arrástrame">
                <div style="font-weight:700">Arrastra</div>
                <small style="color:var(--muted)">Suelta en el objetivo</small>
              </div>

              <div style="flex:1">
                <div style="display:flex; justify-content:space-between; align-items:center">
                  <div>
                    <div style="color:var(--muted); font-size:13px">Click al objetivo</div>
                    <div class="score" id="score">0</div>
                  </div>
                  <div style="text-align:right">
                    <div class="tooltip">Mejor puntuación: <span id="best">0</span></div>
                  </div>
                </div>

                <div style="margin-top:12px; display:flex; gap:12px; align-items:center">
                  <div id="targetHolder" style="width:120px; height:120px; display:flex; align-items:center; justify-content:center; border-radius:8px; border:1px dashed rgba(255,255,255,0.03)">
                    <div class="target" id="target" tabindex="0" role="button" aria-label="Objetivo">¡Click!</div>
                  </div>
                  <div style="flex:1; color:var(--muted); font-size:13px">
                    Haz clic en el objetivo cuando se mueva. Se vuelve más rápido con la puntuación.
                    <div style="margin-top:8px">
                      <button id="startGame">Empezar</button>
                      <button id="resetGame">Reiniciar</button>
                    </div>
                  </div>
                </div>

              </div>
            </div>

            <div class="secret" id="secretPanel" aria-hidden="true">
              <strong>Panel secreto desbloqueado</strong>
              <p style="margin:8px 0 0; color:var(--muted)">Aquí hay una sorpresa. Prueba la combinación Konami arriba o haz 6 clics muy rápidos en el logo.</p>
            </div>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px">
            <button id="showConfetti">Lluvia de confeti</button>
            <button id="rainbow">Modo arcoíris</button>
          </div>
        </div>

        <aside class="right">
          <div class="box">
            <div style="display:flex; justify-content:space-between; align-items:center">
              <div style="font-size:13px; color:var(--muted)">Atajos</div>
              <div style="font-size:12px; color:var(--muted)">Presiona <kbd style="background:#072a34;padding:4px;border-radius:4px">? </kbd> para ayuda</div>
            </div>
            <ul style="margin-top:10px; color:var(--muted); padding-left:18px">
              <li>Konami: ↑↑↓↓←→←→ B A</li>
              <li>Click logo x6: desbloqueo</li>
              <li>Tecla R: reiniciar puntuación</li>
            </ul>
          </div>

          <div class="box" style="margin-top:12px; text-align:center">
            <div style="font-size:12px; color:var(--muted)">Mini oscilador</div>
            <div style="margin-top:8px">
              <input id="freq" type="range" min="110" max="1760" value="440" />
            </div>
            <div style="margin-top:8px">
              <button id="toneOn">Encender</button>
              <button id="toneOff">Apagar</button>
            </div>
          </div>
        </aside>
      </div>

      <div class="footer">
        <div class="tooltip">Cursor interactivo, pruebas y secretos. Guarda tu mejor puntuación en local.</div>
        <div><small style="color:var(--muted)">Made with ✨</small></div>
      </div>

    </div>
  </div>

  <canvas id="confetti" class="confetti"></canvas>

  <script>
    // Helpers
    const $ = s => document.querySelector(s);
    const typedEl = $('#typed');
    const visitsEl = $('#visits');
    const secretPanel = $('#secretPanel');
    const logo = $('#logo');
    const visitsKey = 'hw_visits_v1';
    const bestKey = 'hw_best_v1';

    // Visit counter
    let visits = parseInt(localStorage.getItem(visitsKey) || '0') + 1;
    localStorage.setItem(visitsKey, visits);
    visitsEl.textContent = 'Visitas: ' + visits;

    // Typewriter effect
    const text = 'Hello, world! Bienvenido a una demo interactiva — prueba clicks, teclas y secretos.';
    let idx=0;
    function type(){
      typedEl.textContent = text.slice(0, idx++) + (idx%2? '▌':'');
      if(idx<=text.length) setTimeout(type, 45 + Math.random()*30);
    }
    type();

    // Konami code detector
    const konami = [38,38,40,40,37,39,37,39,66,65];
    let kpos = 0;
    window.addEventListener('keydown', e=>{
      if(e.key.toLowerCase()==='r'){ resetGame(); }
      if(e.key === '?') alert('Konami: ↑↑↓↓←→←→ B A\nClick logo x6 -> desbloqueo\nR -> reiniciar puntuación');
      const code = e.keyCode;
      if(code === konami[kpos]){ kpos++; if(kpos === konami.length){ unlockSecret('konami'); kpos=0; } }
      else kpos = (code === konami[0])?1:0;
    });

    // Logo click quick taps
    let logoClicks = 0, logoTimer;
    logo.addEventListener('click', ()=>{
      logoClicks++;
      clearTimeout(logoTimer);
      logoTimer = setTimeout(()=> logoClicks=0, 800);
      if(logoClicks>=6) unlockSecret('logo');
    });

    function unlockSecret(by){
      secretPanel.classList.add('show');
      secretPanel.setAttribute('aria-hidden','false');
      secretPanel.innerHTML = '<strong>Secreto desbloqueado ('+by+')</strong><p style="margin-top:6px;color:var(--muted)">¡Guay! Has abierto el panel secreto. Prueba “Modo arcoíris” o la lluvia de confeti.</p>';
      // tiny visual cue
      logo.classList.add('greenPulse');
      setTimeout(()=> logo.classList.remove('greenPulse'), 2600);
    }

    // Copy to clipboard
    $('#copyHello').addEventListener('click', async ()=>{
      await navigator.clipboard.writeText('Hello World — bien de guapo');
      alert('Copiado: Hello World — bien de guapo');
    });

    // Theme toggle (simple)
    let rainbow = false;
    $('#toggleTheme').addEventListener('click', ()=>{
      document.documentElement.style.setProperty('--accent', rainbow? '#00ffd5' : '#ffb86b');
      rainbow = !rainbow;
    });

    // Simple particle background
    const pcanvas = document.getElementById('particles');
    const pctx = pcanvas.getContext('2d');
    let pW, pH, particles=[];
    function resizeP(){
      pW = pcanvas.width = innerWidth;
      pH = pcanvas.height = innerHeight;
    }
    addEventListener('resize', resizeP);
    resizeP();
    function makeParticles(n=60){
      particles = [];
      for(let i=0;i<n;i++) particles.push({
        x: Math.random()*pW, y: Math.random()*pH, r: Math.random()*2.6+0.6, vx: (Math.random()-0.5)*0.3, vy: -0.1 - Math.random()*0.4, alpha: Math.random()*0.8+0.15
      });
    }
    makeParticles();
    function drawParticles(){
      pctx.clearRect(0,0,pW,pH);
      for(const p of particles){
        p.x += p.vx; p.y += p.vy;
        if(p.y < -10){ p.y = pH + 10; p.x = Math.random()*pW; }
        pctx.beginPath();
        pctx.fillStyle = 'rgba(0,255,213,'+p.alpha+')';
        pctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        pctx.fill();
      }
      requestAnimationFrame(drawParticles);
    }
    drawParticles();

    // Draggable card -> drop on target
    const drag = document.getElementById('drag');
    const targetHolder = document.getElementById('targetHolder');
    let dragging=false, offX=0, offY=0;
    drag.addEventListener('pointerdown', e=>{
      dragging=true; drag.setPointerCapture(e.pointerId);
      offX = e.offsetX; offY = e.offsetY;
      drag.style.position='absolute'; drag.style.zIndex=10;
      drag.style.transition='none';
    });
    document.addEventListener('pointermove', e=>{
      if(!dragging) return;
      const rect = targetHolder.getBoundingClientRect();
      drag.style.left = (e.clientX - offX) + 'px';
      drag.style.top = (e.clientY - offY) + 'px';
    });
    document.addEventListener('pointerup', e=>{
      if(!dragging) return;
      dragging=false;
      const rect = targetHolder.getBoundingClientRect();
      const dx = e.clientX - (rect.left + rect.width/2);
      const dy = e.clientY - (rect.top + rect.height/2);
      const dist = Math.hypot(dx,dy);
      if(dist < Math.max(rect.width, rect.height)/2 + 30){
        // success drop
        secretPanel.classList.add('show');
        secretPanel.setAttribute('aria-hidden','false');
        secretPanel.innerHTML = '<strong>Perfecto</strong><p style="margin-top:6px;color:var(--muted)">Has llevado la tarjeta al objetivo. +2 puntos</p>';
        incrementScore(2);
      }
      drag.style.left=''; drag.style.top=''; drag.style.position='static';
      setTimeout(()=>{ drag.style.transition=''; },250);
    });

    // Target mini-game
    const target = $('#target');
    let score = 0, best = parseInt(localStorage.getItem(bestKey)||'0'), gameInterval, speed=1200, running=false;
    $('#best').textContent = best;
    $('#score').textContent = score;

    function moveTarget(){
      const holder = targetHolder.getBoundingClientRect();
      const tx = Math.random()*(holder.width-64);
      const ty = Math.random()*(holder.height-64);
      target.style.transform = 'translate('+tx+'px,'+ty+'px)';
    }

    target.addEventListener('click', ()=>{
      incrementScore(1);
      // accelerate game
      if(running){
        clearInterval(gameInterval);
        speed = Math.max(300, speed - 40);
        gameInterval = setInterval(moveTarget, speed);
      }
    });

    $('#startGame').addEventListener('click', ()=>{
      if(running) return;
      running=true; score=0; speed=900;
      $('#score').textContent = score;
      moveTarget();
      gameInterval = setInterval(moveTarget, speed);
    });

    $('#resetGame').addEventListener('click', resetGame);

    function resetGame(){
      running=false; score=0; speed=1200;
      $('#score').textContent = score;
      clearInterval(gameInterval);
      target.style.transform='';
      localStorage.setItem(bestKey, best);
      $('#best').textContent = best;
      alert('Puntuación reiniciada');
    }

    function incrementScore(n=1){
      score += n;
      $('#score').textContent = score;
      if(score>best){ best=score; localStorage.setItem(bestKey,best); $('#best').textContent=best; }
      if(score>=10) {
        unlockSecret('puntuacion');
        burstConfetti();
      }
    }

    // Confetti (canvas)
    const confCan = document.getElementById('confetti');
    const cctx = confCan.getContext('2d');
    function resizeC(){ confCan.width = innerWidth; confCan.height = innerHeight; }
    addEventListener('resize', resizeC); resizeC();
    function rand(min,max){ return Math.random()*(max-min)+min }
    let confettiPieces = [];
    function burstConfetti(){
      confettiPieces = [];
      for(let i=0;i<120;i++){
        confettiPieces.push({
          x: innerWidth/2 + rand(-80,80),
          y: innerHeight/2 + rand(-40,40),
          vx: rand(-6,6), vy: rand(-12,-4),
          r: rand(6,12), color: ['#ff4d6d','#ffd24d','#4dffb4','#6f5cff'][Math.floor(Math.random()*4)], rot: rand(0,360), vr: rand(-6,6), life: rand(60,140)
        });
      }
      (function anim(){
        cctx.clearRect(0,0,confCan.width,confCan.height);
        for(const p of confettiPieces){
          p.vy += 0.35; p.x += p.vx; p.y += p.vy; p.rot += p.vr; p.life--;
          cctx.save();
          cctx.translate(p.x,p.y); cctx.rotate(p.rot*Math.PI/180);
          cctx.fillStyle = p.color;
          cctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
          cctx.restore();
        }
        confettiPieces = confettiPieces.filter(p=>p.life>0 && p.y < innerHeight+200);
        if(confettiPieces.length) requestAnimationFrame(anim);
        else cctx.clearRect(0,0,confCan.width,confCan.height);
      })();
    }
    $('#showConfetti').addEventListener('click', burstConfetti);

    // Rainbox mode: cycles bg accent and target gradient
    $('#rainbow').addEventListener('click', ()=>{
      document.documentElement.animate([{filter:'hue-rotate(0deg)'},{filter:'hue-rotate(360deg)'}],{duration:8000,iterations:Infinity});
    });

    // Tone generator (WebAudio)
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const actx = new AudioCtx();
    let osc=null, gain=null;
    $('#playTone').addEventListener('click', ()=>{
      if(osc) return;
      osc = actx.createOscillator();
      gain = actx.createGain();
      osc.type='sine'; osc.frequency.value = 440;
      gain.gain.value = 0.08;
      osc.connect(gain); gain.connect(actx.destination);
      osc.start();
      setTimeout(()=>{ if(osc) { osc.stop(); osc=null; } }, 400);
    });

    $('#toneOn').addEventListener('click', ()=>{
      if(osc) return;
      osc = actx.createOscillator();
      gain = actx.createGain();
      osc.type='sawtooth'; osc.frequency.value = +$('#freq').value;
      gain.gain.value = 0.04;
      osc.connect(gain); gain.connect(actx.destination);
      osc.start();
    });
    $('#toneOff').addEventListener('click', ()=>{ if(osc) { osc.stop(); osc=null; } });

    $('#freq').addEventListener('input', (e)=>{ if(osc){ osc.frequency.value = +e.target.value; } });

    // Small accessibility: pressing Enter on target counts as click
    target.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') target.click(); });

    // Cursor particle trail (simple)
    let trail = [];
    window.addEventListener('pointermove', e=>{
      trail.push({x:e.clientX, y:e.clientY, t:60});
      if(trail.length>60) trail.shift();
    });
    (function drawTrail(){
      const ctx = pctx;
      for(let i=0;i<trail.length;i++){
        const p=trail[i];
        p.t--;
        ctx.fillStyle = 'rgba(111,92,255,'+ (0.02 + (p.t/90)*0.12) + ')';
        ctx.beginPath(); ctx.arc(p.x,p.y, 2 + (1 - p.t/60)*6, 0, Math.PI*2); ctx.fill();
      }
      trail = trail.filter(p=>p.t>0);
      requestAnimationFrame(drawTrail);
    })();

    // Keyboard hint
    window.addEventListener('keydown', e=>{/* reserved for future */});

    // Initial nice little pop
    setTimeout(()=>{ burstConfetti(); }, 800);

  </script>
</body>
</html>
// ...existing code...
```// filepath: c:\Users\upna\Downloads\inigo-carnes-vilas\index.html
// ...existing code...
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hello World — Guapo e Interactivo</title>
  <style>
    :root{
      --bg:#08121f; --card:#0f2230; --accent:#00ffd5; --muted:#9fb3c8;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; font-family:Inter,Segoe UI,system-ui,Arial; background: radial-gradient(circle at 10% 10%, rgba(0,255,213,0.06), transparent 10%), linear-gradient(180deg,#04111a 0%, #061722 40%, #071621 100%); color: #dff7f2}
    .wrap{min-height:100%; display:flex; align-items:center; justify-content:center; padding:40px}
    .card{
      width:980px; max-width:96vw; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04); padding:28px; border-radius:14px; backdrop-filter: blur(6px);
      box-shadow: 0 10px 40px rgba(2,6,10,0.6); position:relative; overflow:hidden;
    }
    header{display:flex; align-items:center; gap:18px; margin-bottom:14px}
    .logo{
      width:78px; height:78px; border-radius:12px; background:linear-gradient(135deg,var(--accent),#6f5cff);
      display:flex; align-items:center; justify-content:center; font-weight:700; color:#042; cursor:pointer;
      transform:translateZ(0); box-shadow:0 6px 18px rgba(0,0,0,0.5);
    }
    h1{margin:0; font-size:28px; letter-spacing:0.6px; line-height:1.05}
    p.lead{margin:6px 0 0; color:var(--muted); font-size:13px}
    .controls{display:flex; gap:10px; margin-top:16px; flex-wrap:wrap}
    button, .toggle{
      background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--accent); padding:8px 12px; border-radius:8px; cursor:pointer;
    }
    .row{display:flex; gap:16px; margin-top:18px}
    .left{flex:1}
    .right{width:320px}
    .box{background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01)); padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.02)}
    .typewriter{font-family: "Courier New", monospace; font-size:20px; color: #fff; margin:10px 0}
    .neon{font-weight:800; color:transparent; -webkit-text-stroke: 1px rgba(0,255,213,0.85); text-shadow:0 0 12px rgba(0,255,213,0.12), 0 0 26px rgba(111,92,255,0.12)}
    canvas#particles{position:absolute; inset:0; pointer-events:none; z-index:0}
    .interactive-area{position:relative; z-index:1; display:flex; gap:12px; align-items:flex-start}
    .draggable{width:150px; height:130px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:10px; display:flex; flex-direction:column; justify-content:center; align-items:center; cursor:grab; user-select:none}
    .draggable:active{cursor:grabbing}
    .target{width:64px; height:64px; border-radius:999px; background:conic-gradient(from 120deg, #ff4d6d, #ffd24d, #4dffb4, #6f5cff); display:flex; align-items:center; justify-content:center; color:#012; font-weight:700; cursor:pointer; box-shadow:0 8px 24px rgba(0,0,0,0.4)}
    .footer{display:flex; justify-content:space-between; align-items:center; margin-top:18px; color:var(--muted); font-size:13px}
    .secret{display:none; padding:12px; margin-top:12px; border-radius:10px; background:linear-gradient(90deg,#031018,#052033); border:1px dashed rgba(255,255,255,0.04)}
    .secret.show{display:block}
    .score{font-weight:700; color:#fff}
    .tooltip{font-size:12px; color:var(--muted)}
    .badge{background:rgba(255,255,255,0.03); padding:6px 8px; border-radius:8px; font-weight:600}
    /* small animations */
    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}
    .logo{animation:floaty 3s ease-in-out infinite}
    .greenPulse{animation:glow 2.2s ease-in-out infinite}
    @keyframes glow{0%{box-shadow:0 0 4px rgba(0,255,213,0.06)}50%{box-shadow:0 0 18px rgba(0,255,213,0.18)}100%{box-shadow:0 0 4px rgba(0,255,213,0.06)}}
    .confetti{position:absolute; inset:0; pointer-events:none; z-index:2}
    /* responsive */
    @media (max-width:820px){ .right{display:none} .card{padding:18px} }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>
  <div class="wrap">
    <div class="card" role="main" aria-label="Hello world interactivo">
      <header>
        <div id="logo" class="logo" title="Haz clic varias veces">HW</div>
        <div>
          <h1><span class="neon">Hello World</span> — bien de guapo</h1>
          <p class="lead">Interacciones, secretos y mini-juegos. Prueba teclas, clics y el Konami.</p>
          <div class="controls">
            <button id="toggleTheme">Modo secreto</button>
            <button id="playTone">Tocar tono</button>
            <button id="copyHello">Copiar saludo</button>
            <div class="badge" id="visits">Visitas: 0</div>
          </div>
        </div>
      </header>

      <div class="row interactive-area">
        <div class="left">
          <div class="box">
            <div class="typewriter" id="typed"></div>
            <div style="display:flex; gap:10px; margin-top:10px">
              <div class="draggable" id="drag" title="Arrástrame">
                <div style="font-weight:700">Arrastra</div>
                <small style="color:var(--muted)">Suelta en el objetivo</small>
              </div>

              <div style="flex:1">
                <div style="display:flex; justify-content:space-between; align-items:center">
                  <div>
                    <div style="color:var(--muted); font-size:13px">Click al objetivo</div>
                    <div class="score" id="score">0</div>
                  </div>
                  <div style="text-align:right">
                    <div class="tooltip">Mejor puntuación: <span id="best">0</span></div>
                  </div>
                </div>

                <div style="margin-top:12px; display:flex; gap:12px; align-items:center">
                  <div id="targetHolder" style="width:120px; height:120px; display:flex; align-items:center; justify-content:center; border-radius:8px; border:1px dashed rgba(255,255,255,0.03)">
                    <div class="target" id="target" tabindex="0" role="button" aria-label="Objetivo">¡Click!</div>
                  </div>
                  <div style="flex:1; color:var(--muted); font-size:13px">
                    Haz clic en el objetivo cuando se mueva. Se vuelve más rápido con la puntuación.
                    <div style="margin-top:8px">
                      <button id="startGame">Empezar</button>
                      <button id="resetGame">Reiniciar</button>
                    </div>
                  </div>
                </div>

              </div>
            </div>

            <div class="secret" id="secretPanel" aria-hidden="true">
              <strong>Panel secreto desbloqueado</strong>
              <p style="margin:8px 0 0; color:var(--muted)">Aquí hay una sorpresa. Prueba la combinación Konami arriba o haz 6 clics muy rápidos en el logo.</p>
            </div>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px">
            <button id="showConfetti">Lluvia de confeti</button>
            <button id="rainbow">Modo arcoíris</button>
          </div>
        </div>

        <aside class="right">
          <div class="box">
            <div style="display:flex; justify-content:space-between; align-items:center">
              <div style="font-size:13px; color:var(--muted)">Atajos</div>
              <div style="font-size:12px; color:var(--muted)">Presiona <kbd style="background:#072a34;padding:4px;border-radius:4px">? </kbd> para ayuda</div>
            </div>
            <ul style="margin-top:10px; color:var(--muted); padding-left:18px">
              <li>Konami: ↑↑↓↓←→←→ B A</li>
              <li>Click logo x6: desbloqueo</li>
              <li>Tecla R: reiniciar puntuación</li>
            </ul>
          </div>

          <div class="box" style="margin-top:12px; text-align:center">
            <div style="font-size:12px; color:var(--muted)">Mini oscilador</div>
            <div style="margin-top:8px">
              <input id="freq" type="range" min="110" max="1760" value="440" />
            </div>
            <div style="margin-top:8px">
              <button id="toneOn">Encender</button>
              <button id="toneOff">Apagar</button>
            </div>
          </div>
        </aside>
      </div>

      <div class="footer">
        <div class="tooltip">Cursor interactivo, pruebas y secretos. Guarda tu mejor puntuación en local.</div>
        <div><small style="color:var(--muted)">Made with ✨</small></div>
      </div>

    </div>
  </div>

  <canvas id="confetti" class="confetti"></canvas>

  <script>
    // Helpers
    const $ = s => document.querySelector(s);
    const typedEl = $('#typed');
    const visitsEl = $('#visits');
    const secretPanel = $('#secretPanel');
    const logo = $('#logo');
    const visitsKey = 'hw_visits_v1';
    const bestKey = 'hw_best_v1';

    // Visit counter
    let visits = parseInt(localStorage.getItem(visitsKey) || '0') + 1;
    localStorage.setItem(visitsKey, visits);
    visitsEl.textContent = 'Visitas: ' + visits;

    // Typewriter effect
    const text = 'Hello, world! Bienvenido a una demo interactiva — prueba clicks, teclas y secretos.';
    let idx=0;
    function type(){
      typedEl.textContent = text.slice(0, idx++) + (idx%2? '▌':'');
      if(idx<=text.length) setTimeout(type, 45 + Math.random()*30);
    }
    type();

    // Konami code detector
    const konami = [38,38,40,40,37,39,37,39,66,65];
    let kpos = 0;
    window.addEventListener('keydown', e=>{
      if(e.key.toLowerCase()==='r'){ resetGame(); }
      if(e.key === '?') alert('Konami: ↑↑↓↓←→←→ B A\nClick logo x6 -> desbloqueo\nR -> reiniciar puntuación');
      const code = e.keyCode;
      if(code === konami[kpos]){ kpos++; if(kpos === konami.length){ unlockSecret('konami'); kpos=0; } }
      else kpos = (code === konami[0])?1:0;
    });

    // Logo click quick taps
    let logoClicks = 0, logoTimer;
    logo.addEventListener('click', ()=>{
      logoClicks++;
      clearTimeout(logoTimer);
      logoTimer = setTimeout(()=> logoClicks=0, 800);
      if(logoClicks>=6) unlockSecret('logo');
    });

    function unlockSecret(by){
      secretPanel.classList.add('show');
      secretPanel.setAttribute('aria-hidden','false');
      secretPanel.innerHTML = '<strong>Secreto desbloqueado ('+by+')</strong><p style="margin-top:6px;color:var(--muted)">¡Guay! Has abierto el panel secreto. Prueba “Modo arcoíris” o la lluvia de confeti.</p>';
      // tiny visual cue
      logo.classList.add('greenPulse');
      setTimeout(()=> logo.classList.remove('greenPulse'), 2600);
    }

    // Copy to clipboard
    $('#copyHello').addEventListener('click', async ()=>{
      await navigator.clipboard.writeText('Hello World — bien de guapo');
      alert('Copiado: Hello World — bien de guapo');
    });

    // Theme toggle (simple)
    let rainbow = false;
    $('#toggleTheme').addEventListener('click', ()=>{
      document.documentElement.style.setProperty('--accent', rainbow? '#00ffd5' : '#ffb86b');
      rainbow = !rainbow;
    });

    // Simple particle background
    const pcanvas = document.getElementById('particles');
    const pctx = pcanvas.getContext('2d');
    let pW, pH, particles=[];
    function resizeP(){
      pW = pcanvas.width = innerWidth;
      pH = pcanvas.height = innerHeight;
    }
    addEventListener('resize', resizeP);
    resizeP();
    function makeParticles(n=60){
      particles = [];
      for(let i=0;i<n;i++) particles.push({
        x: Math.random()*pW, y: Math.random()*pH, r: Math.random()*2.6+0.6, vx: (Math.random()-0.5)*0.3, vy: -0.1 - Math.random()*0.4, alpha: Math.random()*0.8+0.15
      });
    }
    makeParticles();
    function drawParticles(){
      pctx.clearRect(0,0,pW,pH);
      for(const p of particles){
        p.x += p.vx; p.y += p.vy;
        if(p.y < -10){ p.y = pH + 10; p.x = Math.random()*pW; }
        pctx.beginPath();
        pctx.fillStyle = 'rgba(0,255,213,'+p.alpha+')';
        pctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        pctx.fill();
      }
      requestAnimationFrame(drawParticles);
    }
    drawParticles();

    // Draggable card -> drop on target
    const drag = document.getElementById('drag');
    const targetHolder = document.getElementById('targetHolder');
    let dragging=false, offX=0, offY=0;
    drag.addEventListener('pointerdown', e=>{
      dragging=true; drag.setPointerCapture(e.pointerId);
      offX = e.offsetX; offY = e.offsetY;
      drag.style.position='absolute'; drag.style.zIndex=10;
      drag.style.transition='none';
    });
    document.addEventListener('pointermove', e=>{
      if(!dragging) return;
      const rect = targetHolder.getBoundingClientRect();
      drag.style.left = (e.clientX - offX) + 'px';
      drag.style.top = (e.clientY - offY) + 'px';
    });
    document.addEventListener('pointerup', e=>{
      if(!dragging) return;
      dragging=false;
      const rect = targetHolder.getBoundingClientRect();
      const dx = e.clientX - (rect.left + rect.width/2);
      const dy = e.clientY - (rect.top + rect.height/2);
      const dist = Math.hypot(dx,dy);
      if(dist < Math.max(rect.width, rect.height)/2 + 30){
        // success drop
        secretPanel.classList.add('show');
        secretPanel.setAttribute('aria-hidden','false');
        secretPanel.innerHTML = '<strong>Perfecto</strong><p style="margin-top:6px;color:var(--muted)">Has llevado la tarjeta al objetivo. +2 puntos</p>';
        incrementScore(2);
      }
      drag.style.left=''; drag.style.top=''; drag.style.position='static';
      setTimeout(()=>{ drag.style.transition=''; },250);
    });

    // Target mini-game
    const target = $('#target');
    let score = 0, best = parseInt(localStorage.getItem(bestKey)||'0'), gameInterval, speed=1200, running=false;
    $('#best').textContent = best;
    $('#score').textContent = score;

    function moveTarget(){
      const holder = targetHolder.getBoundingClientRect();
      const tx = Math.random()*(holder.width-64);
      const ty = Math.random()*(holder.height-64);
      target.style.transform = 'translate('+tx+'px,'+ty+'px)';
    }

    target.addEventListener('click', ()=>{
      incrementScore(1);
      // accelerate game
      if(running){
        clearInterval(gameInterval);
        speed = Math.max(300, speed - 40);
        gameInterval = setInterval(moveTarget, speed);
      }
    });

    $('#startGame').addEventListener('click', ()=>{
      if(running) return;
      running=true; score=0; speed=900;
      $('#score').textContent = score;
      moveTarget();
      gameInterval = setInterval(moveTarget, speed);
    });

    $('#resetGame').addEventListener('click', resetGame);

    function resetGame(){
      running=false; score=0; speed=1200;
      $('#score').textContent = score;
      clearInterval(gameInterval);
      target.style.transform='';
      localStorage.setItem(bestKey, best);
      $('#best').textContent = best;
      alert('Puntuación reiniciada');
    }

    function incrementScore(n=1){
      score += n;
      $('#score').textContent = score;
      if(score>best){ best=score; localStorage.setItem(bestKey,best); $('#best').textContent=best; }
      if(score>=10) {
        unlockSecret('puntuacion');
        burstConfetti();
      }
    }

    // Confetti (canvas)
    const confCan = document.getElementById('confetti');
    const cctx = confCan.getContext('2d');
    function resizeC(){ confCan.width = innerWidth; confCan.height = innerHeight; }
    addEventListener('resize', resizeC); resizeC();
    function rand(min,max){ return Math.random()*(max-min)+min }
    let confettiPieces = [];
    function burstConfetti(){
      confettiPieces = [];
      for(let i=0;i<120;i++){
        confettiPieces.push({
          x: innerWidth/2 + rand(-80,80),
          y: innerHeight/2 + rand(-40,40),
          vx: rand(-6,6), vy: rand(-12,-4),
          r: rand(6,12), color: ['#ff4d6d','#ffd24d','#4dffb4','#6f5cff'][Math.floor(Math.random()*4)], rot: rand(0,360), vr: rand(-6,6), life: rand(60,140)
        });
      }
      (function anim(){
        cctx.clearRect(0,0,confCan.width,confCan.height);
        for(const p of confettiPieces){
          p.vy += 0.35; p.x += p.vx; p.y += p.vy; p.rot += p.vr; p.life--;
          cctx.save();
          cctx.translate(p.x,p.y); cctx.rotate(p.rot*Math.PI/180);
          cctx.fillStyle = p.color;
          cctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
          cctx.restore();
        }
        confettiPieces = confettiPieces.filter(p=>p.life>0 && p.y < innerHeight+200);
        if(confettiPieces.length) requestAnimationFrame(anim);
        else cctx.clearRect(0,0,confCan.width,confCan.height);
      })();
    }
    $('#showConfetti').addEventListener('click', burstConfetti);

    // Rainbox mode: cycles bg accent and target gradient
    $('#rainbow').addEventListener('click', ()=>{
      document.documentElement.animate([{filter:'hue-rotate(0deg)'},{filter:'hue-rotate(360deg)'}],{duration:8000,iterations:Infinity});
    });

    // Tone generator (WebAudio)
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const actx = new AudioCtx();
    let osc=null, gain=null;
    $('#playTone').addEventListener('click', ()=>{
      if(osc) return;
      osc = actx.createOscillator();
      gain = actx.createGain();
      osc.type='sine'; osc.frequency.value = 440;
      gain.gain.value = 0.08;
      osc.connect(gain); gain.connect(actx.destination);
      osc.start();
      setTimeout(()=>{ if(osc) { osc.stop(); osc=null; } }, 400);
    });

    $('#toneOn').addEventListener('click', ()=>{
      if(osc) return;
      osc = actx.createOscillator();
      gain = actx.createGain();
      osc.type='sawtooth'; osc.frequency.value = +$('#freq').value;
      gain.gain.value = 0.04;
      osc.connect(gain); gain.connect(actx.destination);
      osc.start();
    });
    $('#toneOff').addEventListener('click', ()=>{ if(osc) { osc.stop(); osc=null; } });

    $('#freq').addEventListener('input', (e)=>{ if(osc){ osc.frequency.value = +e.target.value; } });

    // Small accessibility: pressing Enter on target counts as click
    target.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') target.click(); });

    // Cursor particle trail (simple)
    let trail = [];
    window.addEventListener('pointermove', e=>{
      trail.push({x:e.clientX, y:e.clientY, t:60});
      if(trail.length>60) trail.shift();
    });
    (function drawTrail(){
      const ctx = pctx;
      for(let i=0;i<trail.length;i++){
        const p=trail[i];
        p.t--;
        ctx.fillStyle = 'rgba(111,92,255,'+ (0.02 + (p.t/90)*0.12) + ')';
        ctx.beginPath(); ctx.arc(p.x,p.y, 2 + (1 - p.t/60)*6, 0, Math.PI*2); ctx.fill();
      }
      trail = trail.filter(p=>p.t>0);
      requestAnimationFrame(drawTrail);
    })();

    // Keyboard hint
    window.addEventListener('keydown', e=>{/* reserved for future */});

    // Initial nice little pop
    setTimeout(()=>{ burstConfetti(); }, 800);

  </script>
</body>
</html>
